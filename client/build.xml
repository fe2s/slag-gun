<?xml version="1.0" encoding="utf-8"?>
<project name="Slag-Gun client" default="main" basedir=".">


    <!-- Initialisation -->
    <target name="init">
        <!-- provides all environment variables as Ant properties prefixed by "env." -->
        <property environment="env"/>
        <property name="APP_ROOT" value="."/>
        <property name="FLEX_HOME" value="${env.FLEX_HOME}"/>
        <property name="BIN_DIR" value="${APP_ROOT}/bin"/>
        <property name="SRC_DIR" value="${APP_ROOT}/src"/>

        <echo>FLEX_HOME:        ${FLEX_HOME}</echo>

        <taskdef resource="flexTasks.tasks" classpath="${FLEX_HOME}/ant/lib/flexTasks.jar"/>
    </target>

    <target name="main" depends="init">
        <mxmlc file="${SRC_DIR}/com/example/quickstart/Greeter_mx.mxml"
               output="${BIN_DIR}/Greeter_mx.swf"
               keep-generated-actionscript="false"
               fork="true">
            <load-config filename="${FLEX_HOME}/frameworks/flex-config.xml"/>
            <source-path path-element="${FLEX_HOME}/frameworks"/>
            <source-path path-element="${SRC_DIR}"/>
	    <compiler.debug>true</compiler.debug>
        </mxmlc>
    </target>

</project>
